<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1.0">
    <title>Create a Collection</title>
</head>
<body>
    <h1>Create a New Collection</h1>

    <form action="/create-collection" method="post">
        <label for="collection_name">Collection Name:</label>
        <input type="text" name="collection_name" id="collection_name" required>

        <label for="card_ids">Select Cards:</label>

        <div id="cardsContainer"></div>

        <button type="submit">Create Collection</button>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetch('/api/card-names')
                .then(response => response.json())
                .then(cards => {
                    const container = document.getElementById('cardsContainer');

                    cards.forEach(card => {
                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.name = 'card_ids';
                        checkbox.value = card.card_id;

                        const label = document.createElement('label');
                        label.append(` ${card.card_name}`);

                        container.appendChild(checkbox);
                        container.appendChild(label);
                        container.appendChild(document.createElement('br'));
                    });
                })
                .catch(error => console.error('Error loading cards:', error));
        });
    </script>
</body>
</html>
